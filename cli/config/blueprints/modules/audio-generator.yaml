meta:
  name: Audio Generation
  description: Convert narration text into voiced audio segments.
  id: AudioGenerator
  version: 0.1.0
  author: Tutopanda
  license: MIT

inputs:
  - name: TextInput
    description: Text to synthesize.
    type: string
    required: true
  - name: VoiceId
    description: Voice preset identifier for the provider.
    type: string
    required: true
  - name: Emotion
    description: Optional emotion hint.
    type: string
    required: false
    default: neutral

artifacts:
  - name: SegmentAudio
    description: Narrated audio file for the segment.
    type: audio

connections:
  - from: TextInput
    to: AudioProducer
  - from: VoiceId
    to: AudioProducer
  - from: Emotion
    to: AudioProducer
  - from: AudioProducer
    to: SegmentAudio

producers:
  - name: AudioProducer
    provider: replicate
    model: minimax/speech-2.6-hd
    config:
      speed: 1.0
      pitch: 0
      volume: 1
      english_normalization: true
      sample_rate: 32000
      bitrate: 128000
      channel: mono
      language_boost: English
    sdkMapping:
      TextInput:
        field: text
        type: string
        required: true
      Emotion:
        field: emotion
        type: string
        required: false
      VoiceId:
        field: voice_id
        type: string
        required: false
    outputs:
      SegmentAudio:
        type: audio
        mimeType: audio/mp3
