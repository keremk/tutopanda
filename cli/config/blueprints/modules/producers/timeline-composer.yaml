meta:
  name: Timeline Composer
  description: Compose assets into a ReMotion timeline.
  id: TimelineComposer
  version: 0.1.0
  author: Tutopanda
  license: MIT

inputs:
  - name: ImageSegments
    description: Collected image assets grouped per segment.
    type: collection
    itemType: image
    dimensions: segment.image
    fanIn: true
  - name: VideoSegments
    description: Collected video assets grouped per narration segment.
    type: collection
    itemType: video
    dimensions: segment
    fanIn: true
  - name: AudioSegments
    description: Narration audio clips grouped per segment (master track).
    type: collection
    itemType: audio
    dimensions: segment
    fanIn: true
  - name: Music
    description: Background music clips that score the movie (looped as needed).
    type: audio
    required: true
    fanIn: true
  - name: Duration
    description: Total duration of the movie in seconds.
    type: int
    required: true

artifacts:
  - name: Timeline
    description: OrderedTimeline JSON manifest.
    type: json

models:
  - model: OrderedTimeline
    provider: Tutopanda
    inputSchema: ../schemas/timeline-input.json
    inputs: 
      ImageSegments[segment]: imageClip.artifact
      VideoSegments: videoClip.artifact
      AudioSegments: audioClip.artifact
      MusicSegments: musicClip.artifact
